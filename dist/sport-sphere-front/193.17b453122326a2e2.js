"use strict";(self.webpackChunkSportSphereFront=self.webpackChunkSportSphereFront||[]).push([[193],{4193:(H,m,n)=>{n.r(m),n.d(m,{ProfileModule:()=>Q});var a=n(9808),h=n(2382),b=n(4466),s=n(8619),v=n(5587),o=n(1223),g=n(2313),d=n(6075),I=n(263),u=n(8538),C=n(1334),P=n(2340),_=n(8386);function w(r,l){if(1&r){const t=o.EpF();o.TgZ(0,"img",18),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return i.openImageModal(i.baseURL+i.ProfileData.profileImageURL)}),o.qZA()}if(2&r){const t=o.oxw();o.Q6J("src",t.baseURL+t.ProfileData.profileImageURL,o.LSH)}}function x(r,l){if(1&r){const t=o.EpF();o.TgZ(0,"button",19),o.NdJ("click",function(){return o.CHM(t),o.oxw().settings(1)}),o._uU(1,"Edit Profile"),o.qZA()}}function U(r,l){if(1&r){const t=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return i.Unfollow(i.ProfileData.userId)}),o._uU(1,"Unfollow"),o.qZA()}}function Z(r,l){if(1&r){const t=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return i.follow(i.ProfileData.userId)}),o._uU(1,"Follow"),o.qZA()}}function y(r,l){if(1&r){const t=o.EpF();o.TgZ(0,"button",20),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return i.unBlock(i.ProfileData.userId)}),o._uU(1,"Unblock"),o.qZA()}}function D(r,l){if(1&r){const t=o.EpF();o.TgZ(0,"button",21),o.NdJ("click",function(){o.CHM(t);const i=o.oxw();return i.block(i.ProfileData.userId)}),o._uU(1,"Block"),o.qZA()}}function T(r,l){if(1&r&&(o.TgZ(0,"h6"),o._uU(1),o.qZA()),2&r){const t=o.oxw();o.xp6(1),o.Oqu(t.ProfileData.sport)}}let k=(()=>{class r{constructor(t,e,i,c,f,p){this.profileService=t,this.tokenService=e,this.route=i,this.sanitizer=c,this.userService=f,this.router=p,this.userIds="",this.baseURL=P.N.baseURL,this.userID=this.tokenService.getUserId(),this.ProfileData={},this.stats={noOfFollowers:0,noOfFollowing:0,noOfPosts:0}}ngOnInit(){this.route.paramMap.subscribe(t=>{this.userIds=t.get("id"),this.isMyProfile(),this.getProfileStats()})}getProfileStats(){this.userIds=this.route.snapshot.paramMap.get("id"),this.loadProfile(this.userID!=this.userIds?this.userIds:this.userID),console.log("clicked"),this.profileService.GetProfileStats(this.userIds).subscribe({next:t=>{t.success&&(this.stats=t.data,console.log("ssssss"))},error:t=>console.error("Error creating post",t)})}loadProfile(t){this.profileService.getHomeProfileCard(t).subscribe({next:e=>{e.success&&(console.log("home card"),console.log(e.data),this.ProfileData=e.data,this.profileID=this.ProfileData.profileID,console.log("image "+this.ProfileData.profileImage))},error:e=>console.error(e)})}isMyProfile(){this.userIds=this.route.snapshot.paramMap.get("id"),this.myProfile=this.userID==this.userIds}block(t){console.log("block"),this.userService.block(t).subscribe({next:e=>{console.log("block = "),console.log(e)},error:e=>console.error(e)})}unBlock(t){this.userService.unblock(t).subscribe({next:e=>{console.log(e)},error:e=>console.error(e)})}follow(t){this.userService.follow(t).subscribe({next:e=>{console.log("follow = "),console.log(e),this.ProfileData.isIFollow=!this.ProfileData.isIFollow},error:e=>console.error(e)})}Unfollow(t){this.userService.unfollow(t).subscribe({next:e=>{console.log("unfollow = "),console.log(e),this.ProfileData.isIFollow=!this.ProfileData.isIFollow},error:e=>console.error(e)})}settings(t){this.router.navigate(["/settings"],{queryParams:{tab:t}})}openImageModal(t){this.selectedImage=t;const e=document.getElementById("imageModal");e&&new window.bootstrap.Modal(e).show()}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(d.m),o.Y36(u.B),o.Y36(s.gz),o.Y36(g.H7),o.Y36(_.K),o.Y36(s.F0))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-profile-card-profile"]],decls:32,vars:14,consts:[[1,"container","p-4"],[1,"d-flex","flex-row","gap-4"],["alt","Profile Picture","class","profile-pic mb-3  ",3,"src","click",4,"ngIf"],[1,"w-100"],[1,"d-flex","flex-row","justify-content-between","align-items-center"],[1,"username"],[1,"bio"],[1,"d-flex","justify-content-center","flex-column","gap-2"],["class","btn btn-custom btn-sm",3,"click",4,"ngIf"],["class","btn btn-unfollow btn-sm",3,"click",4,"ngIf"],["class","btn btn-follow btn-sm",3,"click",4,"ngIf"],[4,"ngIf"],[1,"stats","my-2"],["id","imageModal","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","modal-lg"],[1,"modal-content","bg-transparent","border-0"],[1,"modal-body","text-center","p-2","bg-white"],["alt","Large Image",1,"img-fluid","rounded",3,"src"],["alt","Profile Picture",1,"profile-pic","mb-3",3,"src","click"],[1,"btn","btn-custom","btn-sm",3,"click"],[1,"btn","btn-unfollow","btn-sm",3,"click"],[1,"btn","btn-follow","btn-sm",3,"click"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0)(1,"div",1),o.YNc(2,w,1,1,"img",2),o.TgZ(3,"div",3)(4,"div",4)(5,"div")(6,"div",5),o._uU(7),o.qZA(),o.TgZ(8,"div",6),o._uU(9),o.qZA()(),o.TgZ(10,"div")(11,"div",7),o.YNc(12,x,2,0,"button",8),o.YNc(13,U,2,0,"button",9),o.YNc(14,Z,2,0,"button",10),o.YNc(15,y,2,0,"button",9),o.YNc(16,D,2,0,"button",10),o.qZA()()(),o.TgZ(17,"h6"),o._uU(18),o.qZA(),o.YNc(19,T,2,1,"h6",11),o.TgZ(20,"div",12)(21,"span"),o._uU(22),o.qZA(),o.TgZ(23,"span"),o._uU(24),o.qZA(),o.TgZ(25,"span"),o._uU(26),o.qZA()()()()(),o.TgZ(27,"div",13)(28,"div",14)(29,"div",15)(30,"div",16),o._UZ(31,"img",17),o.qZA()()()()),2&t&&(o.xp6(2),o.Q6J("ngIf",null!=e.ProfileData.profileImageURL),o.xp6(5),o.Oqu(e.ProfileData.fullName),o.xp6(2),o.hij("",e.ProfileData.bio," "),o.xp6(3),o.Q6J("ngIf",e.myProfile),o.xp6(1),o.Q6J("ngIf",!e.myProfile&&e.ProfileData.isIFollow),o.xp6(1),o.Q6J("ngIf",!e.myProfile&&!e.ProfileData.isIFollow),o.xp6(1),o.Q6J("ngIf",!e.myProfile&&e.ProfileData.isIBlock),o.xp6(1),o.Q6J("ngIf",!e.myProfile&&!e.ProfileData.isIBlock),o.xp6(2),o.Oqu(e.ProfileData.role),o.xp6(1),o.Q6J("ngIf",null!=e.ProfileData.sport),o.xp6(3),o.hij("",e.stats.noOfPosts," posts"),o.xp6(2),o.hij("",e.stats.noOfFollowers," followers"),o.xp6(2),o.hij("",e.stats.noOfFollowing," following"),o.xp6(5),o.Q6J("src",e.selectedImage,o.LSH))},directives:[a.O5],styles:[".profile-pic[_ngcontent-%COMP%]{width:120px!important;height:120px!important;border-radius:50%;object-fit:cover!important}.username[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700}.bio[_ngcontent-%COMP%]{font-style:italic;color:#ccc}.stats[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:600;margin-right:20px}.btn-custom[_ngcontent-%COMP%]{background-color:#222;color:#fff;border:1px solid #444}.btn-custom[_ngcontent-%COMP%]:hover{background-color:#333}.btn-follow[_ngcontent-%COMP%]{background-color:#00098d;color:#fff;border:1px solid #444}.btn-unfollow[_ngcontent-%COMP%]{background-color:#00043c;color:#fff;border:1px solid #444}"]}),r})();var M=n(3566),F=n(9727),Y=n(6396);function A(r,l){if(1&r){const t=o.EpF();o.TgZ(0,"div",4),o.NdJ("click",function(){const c=o.CHM(t).$implicit;return o.oxw(2).goToProfile(c.userID)}),o._UZ(1,"img",5),o.TgZ(2,"div",6)(3,"h6",7),o._uU(4),o.qZA(),o.TgZ(5,"div",8),o._uU(6),o.qZA()()()}if(2&r){const t=l.$implicit,e=o.oxw(2);o.Q6J("ngClass",e.isLast?"border-bottom":""),o.xp6(1),o.Q6J("src",e.baseURL+t.profilePictureUrl,o.LSH)("alt",t.fullName),o.xp6(3),o.Oqu(t.fullName),o.xp6(2),o.hij(" ",t.bio," ")}}function S(r,l){if(1&r&&(o.ynx(0),o.YNc(1,A,7,5,"div",3),o.BQk()),2&r){const t=o.oxw();o.xp6(1),o.Q6J("ngForOf",t.following)("ngForTrackBy",t.trackById)}}function N(r,l){1&r&&(o.TgZ(0,"div",9),o._uU(1," You are not following anyone yet. "),o.qZA())}let O=(()=>{class r{constructor(t,e,i){this.profileService=t,this.tokenService=e,this.router=i,this.following=[],this.isLast=!1,this.baseURL=P.N.baseURL}ngOnInit(){this.getFollowing()}trackById(t,e){return e.id}getFollowing(){const t=this.tokenService.getUserId();this.profileService.peopleYouMayKnow(t).subscribe({next:e=>{console.log("Following res = "),console.log(e),this.following=e.data},error:e=>console.error(e)})}goToProfile(t){this.router.url.toLowerCase().includes(t)||(console.log(t),this.router.navigate(["/profile",t]))}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(d.m),o.Y36(u.B),o.Y36(s.F0))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-poeple-you-may-know"]],decls:6,vars:2,consts:[[1,"card","shadow-sm","p-3","mb-4",2,"max-width","600px","margin","auto"],[4,"ngIf","ngIfElse"],["noFollowing",""],["class","d-flex align-items-center  p-2 mb-2 pointerClick",3,"ngClass","click",4,"ngFor","ngForOf","ngForTrackBy"],[1,"d-flex","align-items-center","p-2","mb-2","pointerClick",3,"ngClass","click"],["height","30px","width","30px",1,"rounded-circle","me-2",3,"src","alt"],[1,"flex-grow-1"],[1,"mb-0"],[1,"text-muted",2,"display","-webkit-box","-webkit-line-clamp","1","-webkit-box-orient","vertical","overflow","hidden","max-width","100%"],[1,"text-center","text-muted","p-3"]],template:function(t,e){if(1&t&&(o.TgZ(0,"div",0)(1,"h3"),o._uU(2,"People you may like"),o.qZA(),o.YNc(3,S,2,2,"ng-container",1),o.YNc(4,N,2,0,"ng-template",null,2,o.W1O),o.qZA()),2&t){const i=o.MAs(5);o.xp6(3),o.Q6J("ngIf",e.following&&e.following.length>0)("ngIfElse",i)}},directives:[a.O5,a.sg,a.mk],styles:[""]}),r})(),L=(()=>{class r{constructor(t,e,i,c,f,p){this.sanitizer=t,this.profileService=e,this.authService=i,this.tokenService=c,this.router=f,this.route=p,this.cUserId=this.tokenService.getUserId(),this.ProfileData={}}ngOnInit(){this.route.paramMap.subscribe(t=>{this.userId=t.get("id"),this.loadProfile(this.cUserId)}),console.log("on init"+this.cUserId+this.userId),this.loadProfile(this.cUserId)}ngOnChanges(t){console.log(t),console.log("on changes"+this.cUserId+this.userId)}loadProfile(t){this.profileService.getHomeProfileCard(t).subscribe({next:e=>{e.success&&(console.log(e),this.ProfileData=e.data,this.profileID=this.ProfileData.profileID,console.log("image "+this.ProfileData.profileImageURL))},error:e=>console.error(e)})}}return r.\u0275fac=function(t){return new(t||r)(o.Y36(g.H7),o.Y36(d.m),o.Y36(I.e),o.Y36(u.B),o.Y36(s.F0),o.Y36(s.gz))},r.\u0275cmp=o.Xpm({type:r,selectors:[["app-profile"]],inputs:{userId:"userId"},features:[o.TTD],decls:18,vars:16,consts:[[1,"container","mt-5"],[1,"row","g-4"],[1,"col-md-3"],[3,"sport","userName","bio","resident","role","userId","image"],[1,"col-md-6"],[1,""],[1,"card-body"],[1,"card","mb-3","shadow-sm",2,"max-width","600px","margin","auto"],[3,"image","currentUserProfileId","currentUserName","ProfileImageURL"],[1,"card","shadow-0"],[1,"card","px-0","pt-0","shadow-sm"],[1,"card-body","px-0"],[1,"card-body","px-0","pt-0"]],template:function(t,e){1&t&&(o.TgZ(0,"div",0)(1,"div",1)(2,"div",2),o._UZ(3,"app-first-column-in-home-profile",3),o.qZA(),o.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7),o._UZ(8,"app-profile-card-profile"),o.qZA(),o._UZ(9,"app-posts",8),o.qZA()()(),o.TgZ(10,"div",2)(11,"div",9)(12,"div",10),o._UZ(13,"app-search"),o.qZA(),o.TgZ(14,"div",11),o._UZ(15,"app-add-post",8),o.qZA(),o.TgZ(16,"div",12),o._UZ(17,"app-poeple-you-may-know"),o.qZA()()()()()),2&t&&(o.xp6(3),o.s9C("sport",e.ProfileData.sport),o.s9C("userName",e.ProfileData.fullName),o.s9C("bio",e.ProfileData.bio),o.hYB("resident","",e.ProfileData.city,",",e.ProfileData.country,""),o.s9C("role",e.ProfileData.role),o.s9C("userId",e.ProfileData.userId),o.s9C("image",e.ProfileData.profileImageURL),o.xp6(6),o.s9C("image",e.ProfileData.profileImageURL),o.Q6J("currentUserProfileId",e.ProfileData.profileID)("currentUserName",e.ProfileData.fullName)("ProfileImageURL",e.ProfileData.profileImageURL),o.xp6(6),o.s9C("image",e.ProfileData.profileImageURL),o.Q6J("currentUserProfileId",e.ProfileData.profileID)("currentUserName",e.ProfileData.fullName)("ProfileImageURL",e.ProfileData.profileImageURL))},directives:[C.j,k,M.C,F.g,Y.Q,O],styles:[""]}),r})();var J=n(7107);const R=[{path:"",component:v.f,children:[{path:":id",component:L,canActivate:[J.a],runGuardsAndResolvers:"paramsChange"}]}];let B=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[s.Bz.forChild(R)],s.Bz]}),r})(),Q=(()=>{class r{}return r.\u0275fac=function(t){return new(t||r)},r.\u0275mod=o.oAB({type:r}),r.\u0275inj=o.cJS({imports:[[a.ez,h.UX,b.m,B]]}),r})()}}]);