"use strict";(self.webpackChunkSportSphereFront=self.webpackChunkSportSphereFront||[]).push([[481],{6075:(b,C,i)=>{i.d(C,{m:()=>c});var t=i(2340),u=i(1223),U=i(520);let c=(()=>{class p{constructor(o){this.http=o,this.apiUrl=`${t.N.baseURL}/api/Profile`}getProfile(o){return this.http.get(`${this.apiUrl}/GetProfile/${o}`)}getHomeProfileCard(o){return this.http.get(`${this.apiUrl}/GetHomeCardProfile/${o}`)}editProfile(o){return this.http.put(`${this.apiUrl}/EditProfile`,o)}uploadProfilePicture(o){const m=new FormData;return m.append("file",o),this.http.post(`${this.apiUrl}/upload-profile-picture`,m)}uploadDefaultProfilePicture(o,m){const e=new FormData;return e.append("file",m),this.http.post(`${this.apiUrl}/${o}/upload-default-profile-picture`,e)}getProfilePicture(o){return this.http.get(`${this.apiUrl}/${o}/profile-picture`,{responseType:"blob"})}getProfilePictureById(o){return this.http.get(`${this.apiUrl}/${o}/profile-pictureId`,{responseType:"blob"})}addProfile(o){return this.http.post(`${this.apiUrl}/add-profile`,o)}getFollowers(o){return this.http.get(`${this.apiUrl}/user/followers?userId=${o}`)}getFollowing(o){return this.http.get(`${this.apiUrl}/user/following?userId=${o}`)}getFollowingForHome(o){return this.http.get(`${this.apiUrl}/user/following-for-home?userId=${o}`)}peopleYouMayKnow(o){return this.http.get(`${this.apiUrl}/user/poeple-you-may-know?userId=${o}`)}GetProfileStats(o){return this.http.get(`${this.apiUrl}/GetProfileStats/${o}`)}}return p.\u0275fac=function(o){return new(o||p)(u.LFG(U.eN))},p.\u0275prov=u.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},8386:(b,C,i)=>{i.d(C,{K:()=>c});var t=i(2340),u=i(1223),U=i(520);let c=(()=>{class p{constructor(o){this.http=o,this.baseUrl=`${t.N.baseURL}/api/Users`}follow(o){return this.http.post(`${this.baseUrl}/follow?UserIdToFollow=${o}`,{})}unfollow(o){return this.http.post(`${this.baseUrl}/unfollow?UserIdToUnfollow=${o}`,{})}block(o){return this.http.post(`${this.baseUrl}/block?UserIdToBlock=${o}`,{})}unblock(o){return this.http.post(`${this.baseUrl}/unblock?UserIdUnblock=${o}`,{})}searchUsers(o){var m,e;const f=new FormData;return o.fullName&&f.append("FullName",o.fullName),void 0!==o.gender&&-1!==o.gender&&f.append("Gender",o.gender.toString()),void 0!==o.role&&-1!==o.role&&f.append("Role",o.role.toString()),o.sport&&f.append("Sport",o.sport),f.append("PageNumber",(null!==(m=o.pageNumber)&&void 0!==m?m:1).toString()),f.append("PageSize",(null!==(e=o.pageSize)&&void 0!==e?e:10).toString()),this.http.post(`${this.baseUrl}/search-users`,f)}BlockingList(o,m,e){return this.http.get(`${this.baseUrl}/get-blocking-list/`,{params:{userId:o,page:m,pageSize:e}})}}return p.\u0275fac=function(o){return new(o||p)(u.LFG(U.eN))},p.\u0275prov=u.Yz7({token:p,factory:p.\u0275fac,providedIn:"root"}),p})()},6481:(b,C,i)=>{i.r(C),i.d(C,{SearchModule:()=>F});var t=i(9808),u=i(2382),U=i(4466),c=i(8619),p=i(5587),h=i(7107),o=i(4289),m=i(2340),e=i(1223),f=i(2313),d=i(6075),Z=i(263),a=i(8538),s=i(8386),g=i(1334);function I(l,v){if(1&l&&(e.TgZ(0,"small"),e._uU(1),e.qZA()),2&l){const n=e.oxw().$implicit;e.xp6(1),e.hij(" : ",n.sport,"")}}function S(l,v){if(1&l){const n=e.EpF();e.TgZ(0,"div",24),e.NdJ("click",function(){const _=e.CHM(n).$implicit;return e.oxw(2).goToProfile(_.userId)}),e._UZ(1,"img",25),e.TgZ(2,"div",26)(3,"h6",27),e._uU(4),e.TgZ(5,"small"),e._uU(6),e.qZA(),e.YNc(7,I,2,1,"small",28),e.TgZ(8,"small"),e._uU(9,")"),e.qZA()(),e.TgZ(10,"div",29),e._uU(11),e.qZA()()()}if(2&l){const n=v.$implicit,r=e.oxw(2);e.xp6(1),e.Q6J("src",r.baseURL+n.profileImage,e.LSH)("alt",n.fullName),e.xp6(3),e.hij("",n.fullName," "),e.xp6(2),e.hij(" (",n.role,""),e.xp6(1),e.Q6J("ngIf",n.sport),e.xp6(4),e.hij(" ",n.bio," ")}}function A(l,v){if(1&l&&(e.TgZ(0,"div"),e.YNc(1,S,12,6,"div",23),e.qZA()),2&l){const n=e.oxw();e.xp6(1),e.Q6J("ngForOf",n.results)}}function x(l,v){1&l&&(e.TgZ(0,"div"),e._uU(1,"No results found"),e.qZA())}const M=[{path:"",component:p.f,children:[{path:"",component:(()=>{class l{constructor(n,r,P,_,T,k,w){this.sanitizer=n,this.profileService=r,this.authService=P,this.tokenService=_,this.router=T,this.route=k,this.userService=w,this.roles=o.vX,this.genders=o.dn,this.searchText="",this.sport="",this.gender=-1,this.role=-1,this.baseURL=m.N.baseURL,this.cUserId=this.tokenService.getUserId(),this.ProfileData={}}ngOnInit(){this.route.paramMap.subscribe(n=>{this.userId=n.get("id"),this.loadProfile(this.cUserId)}),console.log("on init"+this.cUserId+this.userId),this.loadProfile(this.cUserId)}loadProfile(n){this.profileService.getHomeProfileCard(n).subscribe({next:r=>{r.success&&(console.log(r),this.ProfileData=r.data,this.profileID=this.ProfileData.profileID,console.log("image "+this.ProfileData.profileImage))},error:r=>console.error(r)})}Search(){const n={fullName:this.searchText,sport:this.sport,gender:Number(this.gender),role:Number(this.role),pageNumber:1,pageSize:10};console.log("Search text:",this.searchText),console.log("Sport:",this.sport),console.log("Gender:",this.gender),console.log("Role:",this.role),this.userService.searchUsers(n).subscribe({next:r=>{this.results=r.data.searchUsersList,console.log("Results:"),console.log(r)},error:r=>console.error(r)})}goToProfile(n){this.router.url.toLowerCase().includes("profile")||(console.log(n),this.router.navigate(["/profile",n]))}}return l.\u0275fac=function(n){return new(n||l)(e.Y36(f.H7),e.Y36(d.m),e.Y36(Z.e),e.Y36(a.B),e.Y36(c.F0),e.Y36(c.gz),e.Y36(s.K))},l.\u0275cmp=e.Xpm({type:l,selectors:[["app-search-page"]],inputs:{userId:"userId"},decls:56,vars:23,consts:[[1,"container","mt-5"],[1,"row","g-4"],[1,"col-md-3"],[3,"sport","userName","bio","resident","role","userId","image"],[1,"col-md-6"],[1,"card","mb-3","shadow-sm",2,"max-width","600px","margin","auto"],[1,"card-body"],[1,"input-group","mb-3"],["type","text","placeholder","Search","name","searchText",1,"form-control",3,"ngModel","ngModelChange"],["type","submit",1,"btn","btn-primary",3,"click"],[4,"ngIf","ngIfElse"],["noResults",""],[1,"card","shadow-0"],[1,"card","px-0","pt-0","shadow-sm"],[1,"form-group","d-flex","flex-column","mb-4"],["for","sport",1,"text-start"],["type","text","id","sport","placeholder","Sport","name","sport",1,"form-control",3,"ngModel","ngModelChange"],["for","gender",1,"text-start"],["id","gender","name","gender",1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue"],["for","role",1,"text-start"],["id","role","name","role",1,"form-select",3,"ngModel","ngModelChange"],[3,"value"],["class","d-flex align-items-center  p-2 mb-2 pointerClick",3,"click",4,"ngFor","ngForOf"],[1,"d-flex","align-items-center","p-2","mb-2","pointerClick",3,"click"],["height","40px","width","40px",1,"rounded-circle","me-2","object-fit-cover",3,"src","alt"],[1,"flex-grow-1"],[1,"mb-0"],[4,"ngIf"],[1,"text-muted",2,"display","-webkit-box","-webkit-line-clamp","1","-webkit-box-orient","vertical","overflow","hidden","max-width","100%"]],template:function(n,r){if(1&n&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2),e._UZ(3,"app-first-column-in-home-profile",3),e.qZA(),e.TgZ(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4"),e._uU(8," Search "),e.qZA(),e.TgZ(9,"div",7)(10,"input",8),e.NdJ("ngModelChange",function(_){return r.searchText=_}),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return r.Search()}),e._uU(12,"Search"),e.qZA()()()(),e.TgZ(13,"div",5)(14,"div",6)(15,"h4"),e._uU(16," Result "),e.qZA(),e.YNc(17,A,2,1,"div",10),e.YNc(18,x,2,0,"ng-template",null,11,e.W1O),e.qZA()()(),e.TgZ(20,"div",2)(21,"div",12)(22,"div",13)(23,"div",6)(24,"h5"),e._uU(25," Filter "),e.qZA(),e.TgZ(26,"div",14)(27,"label",15),e._uU(28,"Sport"),e.qZA(),e.TgZ(29,"input",16),e.NdJ("ngModelChange",function(_){return r.sport=_}),e.qZA()(),e.TgZ(30,"div",14)(31,"label",17),e._uU(32,"Gender"),e.qZA(),e.TgZ(33,"select",18),e.NdJ("ngModelChange",function(_){return r.gender=_}),e.TgZ(34,"option",19),e._uU(35,"Select Gender"),e.qZA(),e.TgZ(36,"option",19),e._uU(37,"Male"),e.qZA(),e.TgZ(38,"option",19),e._uU(39,"Female"),e.qZA(),e.TgZ(40,"option",19),e._uU(41,"Other"),e.qZA()()(),e.TgZ(42,"div",14)(43,"label",20),e._uU(44,"Role"),e.qZA(),e.TgZ(45,"select",21),e.NdJ("ngModelChange",function(_){return r.role=_}),e.TgZ(46,"option",19),e._uU(47,"Select Role"),e.qZA(),e.TgZ(48,"option",22),e._uU(49,"Athlete"),e.qZA(),e.TgZ(50,"option",22),e._uU(51,"Coach"),e.qZA(),e.TgZ(52,"option",22),e._uU(53,"Fan"),e.qZA(),e.TgZ(54,"option",22),e._uU(55,"Scout"),e.qZA()()()()()()()()()),2&n){const P=e.MAs(19);e.xp6(3),e.s9C("sport",r.ProfileData.sport),e.s9C("userName",r.ProfileData.fullName),e.s9C("bio",r.ProfileData.bio),e.hYB("resident","",r.ProfileData.city,",",r.ProfileData.country,""),e.s9C("role",r.ProfileData.role),e.s9C("userId",r.ProfileData.userId),e.s9C("image",r.ProfileData.profileImageURL),e.xp6(7),e.Q6J("ngModel",r.searchText),e.xp6(7),e.Q6J("ngIf",null!=r.results&&r.results.length)("ngIfElse",P),e.xp6(12),e.Q6J("ngModel",r.sport),e.xp6(4),e.Q6J("ngModel",r.gender),e.xp6(1),e.Q6J("ngValue",-1),e.xp6(2),e.Q6J("ngValue",r.genders.Male),e.xp6(2),e.Q6J("ngValue",r.genders.Female),e.xp6(2),e.Q6J("ngValue",r.genders.Other),e.xp6(5),e.Q6J("ngModel",r.role),e.xp6(1),e.Q6J("ngValue",-1),e.xp6(2),e.Q6J("value",r.roles.Athlete),e.xp6(2),e.Q6J("value",r.roles.Coach),e.xp6(2),e.Q6J("value",r.roles.Fan),e.xp6(2),e.Q6J("value",r.roles.Scout)}},directives:[g.j,u.Fj,u.JJ,u.On,t.O5,t.sg,u.EJ,u.YN,u.Kr],styles:[""]}),l})(),canActivate:[h.a],runGuardsAndResolvers:"paramsChange"}]}];let N=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[[c.Bz.forChild(M)],c.Bz]}),l})(),F=(()=>{class l{}return l.\u0275fac=function(n){return new(n||l)},l.\u0275mod=e.oAB({type:l}),l.\u0275inj=e.cJS({imports:[[t.ez,u.UX,U.m,N,u.u5]]}),l})()},5587:(b,C,i)=>{i.d(C,{f:()=>U});var t=i(1223),u=i(8619);let U=(()=>{class c{constructor(){}ngOnInit(){}}return c.\u0275fac=function(h){return new(h||c)},c.\u0275cmp=t.Xpm({type:c,selectors:[["app-main-layout"]],decls:1,vars:0,template:function(h,o){1&h&&t._UZ(0,"router-outlet")},directives:[u.lC],styles:[""]}),c})()},1334:(b,C,i)=>{i.d(C,{j:()=>f});var t=i(1223),u=i(8619),U=i(263),c=i(2340),p=i(8538),h=i(9808);function o(d,Z){if(1&d){const a=t.EpF();t.TgZ(0,"img",12),t.NdJ("click",function(){return t.CHM(a),t.oxw().gotoProfile()}),t.qZA()}if(2&d){const a=t.oxw();t.Q6J("src",a.baseURL+a.image,t.LSH)}}function m(d,Z){if(1&d&&(t.TgZ(0,"h6"),t._uU(1),t.qZA()),2&d){const a=t.oxw();t.xp6(1),t.Oqu(a.sport)}}let e=(()=>{class d{constructor(a,s,g){this.router=a,this.tokenService=s,this.route=g,this.userName="UserName",this.userId="userID",this.bio="Bio",this.role="Role",this.image="pp",this.resident="Resident",this.baseURL=c.N.baseURL}ngOnInit(){}gotoProfile(){if(this.router.url.toLowerCase().includes("profile")){let a=this.tokenService.getUserId();a!=this.route.snapshot.paramMap.get("id")&&this.router.navigate(["/profile",a])}else this.router.navigate(["/profile",this.userId])}}return d.\u0275fac=function(a){return new(a||d)(t.Y36(u.F0),t.Y36(p.B),t.Y36(u.gz))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-home-profile-card"]],inputs:{userName:"userName",userId:"userId",bio:"bio",role:"role",image:"image",sport:"sport",resident:"resident"},decls:17,vars:6,consts:[[1,"card","text-center","shadow-sm",2,"max-width","350px","margin","auto","border-radius","15px"],[1,"card-body","pt-5","d-flex","flex-column","align-items-start"],[1,"position-relative",2,"margin-top","-80px"],["alt","Profile Picture","class","rounded-circle border border-3 border-secondary object-fit-cover pointerClick","width","80","height","80",3,"src","click",4,"ngIf"],[1,"mt-2","mb-2","d-flex","justify-content-between","align-baseline","w-100"],[1,"d-flex","flex-column","align-items-start"],[1,"card-title","fw-bold","pointerClick",3,"click"],[1,"card-text","text-secondary",2,"font-size","0.9rem"],[1,"d-flex","flex-column"],[4,"ngIf"],[1,"card-footer","bg-light","border-top","py-1"],[1,"card-text","text-muted","mb-1"],["alt","Profile Picture","width","80","height","80",1,"rounded-circle","border","border-3","border-secondary","object-fit-cover","pointerClick",3,"src","click"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.YNc(3,o,1,1,"img",3),t.qZA(),t.TgZ(4,"div",4)(5,"div",5)(6,"h5",6),t.NdJ("click",function(){return s.gotoProfile()}),t._uU(7),t.qZA(),t.TgZ(8,"p",7),t._uU(9),t.qZA()(),t.TgZ(10,"div",8)(11,"h6"),t._uU(12),t.qZA(),t.YNc(13,m,2,1,"h6",9),t.qZA()()(),t.TgZ(14,"div",10)(15,"p",11),t._uU(16),t.qZA()()()),2&a&&(t.xp6(3),t.Q6J("ngIf",s.image),t.xp6(4),t.hij("",s.userName," "),t.xp6(2),t.Oqu(s.resident),t.xp6(3),t.Oqu(s.role),t.xp6(1),t.Q6J("ngIf",null!=s.sport),t.xp6(3),t.Oqu(s.bio))},directives:[h.O5],styles:[""]}),d})(),f=(()=>{class d{constructor(a,s,g){this.router=a,this.route=s,this.authService=g,this.userName="UserName",this.userId="userID",this.bio="Bio",this.role="Role",this.image="pp",this.resident="Resident"}ngOnInit(){this.route.paramMap.subscribe(a=>{this.userId=a.get("id")})}goHome(){this.router.navigate(["/home"])}logout(){this.authService.logoutFront(),null==this.authService.getToken()&&this.router.navigate(["/login"])}settings(a){this.router.navigate(["/settings"],{queryParams:{tab:a}})}}return d.\u0275fac=function(a){return new(a||d)(t.Y36(u.F0),t.Y36(u.gz),t.Y36(U.e))},d.\u0275cmp=t.Xpm({type:d,selectors:[["app-first-column-in-home-profile"]],inputs:{userName:"userName",userId:"userId",bio:"bio",role:"role",image:"image",sport:"sport",resident:"resident"},decls:40,vars:7,consts:[[1,"card","shadow-0"],[1,"card-body","px-0","pb-0"],[3,"sport","userName","bio","resident","role","userId","image"],[1,"card-body","px-0"],[1,"card","text-start","shadow-sm","py-4","gap-3"],[1,"py-2","m-0","px-4","pointerClick",3,"click"],[1,"fa-regular","fa-home","me-3"],[1,"py-2","m-0","px-4","pointerClick"],[1,"fa-regular","fa-bell","me-3"],[1,"fa-regular","fa-envelope","me-3"],[1,"fa-regular","fa-bookmark","me-3"],[1,"btn-group","shadow-0","py-2","m-0","px-4","pointerClick"],["type","button","data-bs-toggle","dropdown","data-bs-display","static","aria-expanded","false",1,"bg-transparent","h4","border-0","p-0","m-0"],[1,"fa-solid","fa-gear","me-3"],[1,"dropdown-menu","dropdown-menu-end","dropdown-menu-lg-start","border-1"],["type","button",1,"dropdown-item",3,"click"]],template:function(a,s){1&a&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-home-profile-card",2),t.qZA(),t.TgZ(3,"div",3)(4,"div",4)(5,"h4",5),t.NdJ("click",function(){return s.goHome()}),t._UZ(6,"i",6),t._uU(7,"Home"),t.qZA(),t.TgZ(8,"h4",7),t._UZ(9,"i",8),t._uU(10,"Notifications"),t.qZA(),t.TgZ(11,"h4",7),t._UZ(12,"i",9),t._uU(13,"Messages"),t.qZA(),t.TgZ(14,"h4",7),t._UZ(15,"i",10),t._uU(16,"Bookmarks"),t.qZA(),t.TgZ(17,"div",11)(18,"button",12),t._UZ(19,"i",13),t._uU(20,"Settings "),t.qZA(),t.TgZ(21,"ul",14)(22,"li")(23,"button",15),t.NdJ("click",function(){return s.settings(1)}),t._uU(24,"Edit my Profile"),t.qZA()(),t.TgZ(25,"li")(26,"button",15),t.NdJ("click",function(){return s.settings(2)}),t._uU(27,"Blocked users"),t.qZA()(),t.TgZ(28,"li")(29,"button",15),t.NdJ("click",function(){return s.settings(3)}),t._uU(30,"Change password"),t.qZA()(),t.TgZ(31,"li")(32,"button",15),t.NdJ("click",function(){return s.settings(4)}),t._uU(33,"Deactivate my account"),t.qZA()(),t.TgZ(34,"li")(35,"button",15),t.NdJ("click",function(){return s.settings(5)}),t._uU(36,"Switch appearance"),t.qZA()(),t.TgZ(37,"li")(38,"button",15),t.NdJ("click",function(){return s.logout()}),t._uU(39,"Logout"),t.qZA()()()()()()()),2&a&&(t.xp6(2),t.s9C("sport",s.sport),t.s9C("userName",s.userName),t.s9C("bio",s.bio),t.s9C("resident",s.resident),t.s9C("role",s.role),t.s9C("userId",s.userId),t.s9C("image",s.image))},directives:[e],styles:[""]}),d})()}}]);